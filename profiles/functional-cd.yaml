# Functional CD Profile
# Purpose: Continuous deployment of business logic
# Use for: Daily/frequent deployments after baseline is established
# Requires: Baseline must exist in target environment

name: functional-cd
description: "Continuous deployment of business logic"

# Structured flag declarations
flags:
  # Baseline entities - SKIP (not part of functional deployment)
  replace_object_type: false
  replace_request_header_type: false
  replace_special_command: false
  replace_validation: false
  replace_user_data_context: false

  # Functional entities - REPLACE ALWAYS
  replace_request_type: true
  replace_workflow: true
  replace_report_type: true
  replace_workplan_template: true
  replace_workflow_step_sources: true
  replace_overview_page_section: true
  replace_portlet_definition: true
  replace_module: true
  replace_data_source: true
  replace_project_type: true
  replace_sub_workflow: true
  replace_program_type: true
  replace_odata_data_source: true
  replace_portfolio_type: true
  replace_ppm_integration_sdk: true
  replace_custom_menu: true
  replace_chatbot_intents: false

  # Add missing - NO (baseline must already exist)
  add_missing_environment: false
  add_missing_security_group: false
  add_missing_request_status: false

# Entities to extract and migrate
# Entity IDs defined in OpenText PPM documentation:
# https://admhelp.microfocus.com/ppm/en/25.1-25.3/Help/Content/SA/InstallAdmin/122100_InstallAdmin_Server.htm
entities:
  - id: 9
    name: "Workflows"
    category: functional

  - id: 19
    name: "Request Types"
    category: functional

  - id: 17
    name: "Report Types"
    category: functional

  - id: 509
    name: "Portlet Definitions"
    category: functional

  - id: 470
    name: "Dashboard Modules"
    category: functional

  - id: 505
    name: "Dashboard Data Sources"
    category: functional

  - id: 61
    name: "Overview Page Sections"
    category: functional

  - id: 522
    name: "Work Plan Templates"
    category: functional

  - id: 521
    name: "Project Types"
    category: functional

  - id: 901
    name: "Program Types"
    category: functional

  - id: 903
    name: "Portfolio Types"
    category: functional

  - id: 906
    name: "OData Data Sources"
    category: functional
    note: "OData links are not migrated"

  - id: 907
    name: "Custom Menu"
    category: functional

  - id: 908
    name: "Chatbot Intent"
    category: functional
    note: "Available for PPM 25.2 and later"

  - id: 9900
    name: "PPM Integration SDK"
    category: functional

# Computed flag string (generated by orchestrator)
# Expected: NYNNNYYYYNNNYNYYYYYYYYYYN
